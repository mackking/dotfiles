# Create a new directory and enter it
function mdg() {
	mkdir -p "$@" && cd "$@"
}

# find shorthand
function find() {
	find . -name "$1"
}

# Spinner/throbber function to indicate processing of long jobs
# usage:
#   (some_really_long_command) &   # must be run in background
#   spinner "Your message..."      # (message is optional)
function spinner() {
	local pid=$!
	local msg=${1:-"Please wait..."}
	local delay=0.5
	echo -n $msg
	while [ $(ps -eo pid | grep $pid) ]; do
		for i in \| / - \\; do
			printf ' [%c] ' $i
			sleep $delay
			printf '\b\b\b\b\b'
		done
	done
	printf '  DONE!'
}


if [[ "$OSTYPE" =~ ^darwin ]]
then

	# Add the specified number of 'spaces' to the dock.
	# Spaces will be added to the right/bottom end of the dock and can be
	# dragged into place after they are created, or dragged off the dock to
	# be removed.
	#
	# Doc will be killall'd at the end to force the spaces to showup
	function dockspace() {
		local i count=${1:-1}
		for (( i=0; i < $count; i++ )); do
			defaults write com.apple.dock persistent-apps -array-add '{"tile-type"="spacer-tile";}'
		done
		killall Dock
	}

fi